@using MudBlazor;
@inject ISnackbar Snackbar

<MudDialog>
    <TitleContent>
        @Localizer[Locales.Resource.RunCommand]
    </TitleContent>
    <DialogContent>
        @if (string.IsNullOrEmpty(Output))
        {
            <MudTextField Adornment="Adornment.Start" AdornmentText="docker" Immediate="true" Style="font-family: Consolas;" @bind-Value="Command" Label="@Localizer[Locales.Resource.Command]" />
        }
        else
        {
            <MudTextField Adornment="Adornment.Start" Immediate="true" Style="font-family: Consolas;" @bind-Value="Output" Label="@Localizer[Locales.Resource.Output]" Variant="Variant.Outlined" ReadOnly="true" AutoGrow/>
        }
    </DialogContent>
    <DialogActions>
        @if (!string.IsNullOrEmpty(Command) && string.IsNullOrEmpty(Output))
        {
            <div class="exec-btn">
                <MudButton Color="Color.Primary" OnClick="ExecuteCommand">@Localizer[Locales.Resource.Execute]</MudButton>
            </div>
        }
        <MudButton Color="Color.Primary" OnClick="Close">@Localizer[Locales.Resource.Close]</MudButton>
    </DialogActions>
</MudDialog>
@if (loading)
{
    <div class="loading">
        <MudProgressLinear Color="Color.Primary" Indeterminate="true" />
    </div>
}
